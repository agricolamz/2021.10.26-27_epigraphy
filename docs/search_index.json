[["введение-в-r.html", "2 Введение в R 2.1 Основы 2.2 Введение в tidyverse", " 2 Введение в R 2.1 Основы 2.1.1 Типы данных В R есть несколько типов данных, которые нам будут важны на наших занятиях: числа 5 ## [1] 5 8.23 ## [1] 8.23 строки &quot;hi&quot; ## [1] &quot;hi&quot; &quot;тро-ло-ло&quot; ## [1] &quot;тро-ло-ло&quot; &quot;שלום&quot; ## [1] &quot;שלום&quot; Важно отметить, что числа также могут быть строкой: \"5\". логические операторы TRUE ## [1] TRUE FALSE ## [1] FALSE пропущенные значения NA ## [1] NA Набор значений можно объединить в единицу, которая называется вектор: c(4, 9) ## [1] 4 9 c(&quot;first name&quot;, &quot;фамилия&quot;) ## [1] &quot;first name&quot; &quot;фамилия&quot; 2.1.2 Переменные Любое значение можно записать в переменную. Для этого используется оператор присваивания &lt;- (горячие клавиши Alt + - позволяют быстро вставить оператор): x &lt;- 2021 x ## [1] 2021 y &lt;- c(&quot;имя&quot;, &quot;last name&quot;) Переменные можно спользовать в манипуляциях: x+3 ## [1] 2024 Однако она останется не изменной, пока мы не сделаем новое присваивание: x ## [1] 2021 x &lt;- x+3 x ## [1] 2024 2.1.3 Функции Любые действия в R происходят при помощи функций: x &lt;- c(1, 3, 5, 7) mean(x) ## [1] 4 cumsum(x) ## [1] 1 4 9 16 2.1.4 Пакеты Большая часть преимуществ R находится в его пакетах — наборах функций. Сегодня мы будем использовать пакет tidyverse, а завтра пакеты leaflet и leaflet.minicharts. Первое что имеет смысл сделать, это научиться устанавливать пакеты: install.packages(c(&quot;tidyverse&quot;, &quot;leaflet&quot;, &quot;leaflet.minicharts&quot;)) R может попросить при первой установке выбрать зеркало – это не особенно важно, можете выбрать любое. Перед использованием пакета его нужно включить: library(tidyverse) ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ── ## ✓ ggplot2 3.3.5 ✓ purrr 0.3.4 ## ✓ tibble 3.1.5 ✓ dplyr 1.0.7 ## ✓ tidyr 1.1.4 ✓ stringr 1.4.0 ## ✓ readr 2.0.2 ✓ forcats 0.5.1 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() Пакет выдал какое-то сообщение: такое бывает. Главное чтобы не выдал ошибки. 2.2 Введение в tidyverse В R существуют свои поддиалекты: есть базовый R, есть tidyverse, есть data.table. В этих материалах мы будем работать с tidyverse. 2.2.1 Чтение файлов Люди придумали достаточно много способов хранить табличные данные (мы будем смотреть только на такие данные). Всем известны таблицы из Excel/LibreOffice/Numbers и самые распространенные форматы .xls и .xlsx, c которыми можно работать в R при помощи пакетов readxl и writexl. На наших занятиях мы рассмотрим более простой формат, с которым предпочитают работать при анализе данных — .csv. Этот формат предполагает использование как машинно-, так и человеко-читаемый формат, в котором значения разделяются некоторым разделителем. Чаще всего в качестве разделителя используют запятую (поэтому .csv расшифровывается как comma separated values). df &lt;- read_csv(&quot;https://tinyurl.com/yzfgony9&quot;) df В нашем датасете следующие переменные: tombstone_code — код надгробия (BSH0141) place — место (Бешенковичи) tombstone_id — уникальный номер надгробия (141) latitude — широта (55.0455800198435) longitude — долгота (29.4838749171489) last_name — фамилия (Фридман) name — имя (Ицхак Менаше) fathers_name — имя отца (Зув Вольф) gender — гендерная принадлежность (m) year — год смерти (1919) tags — тэги, проставленные разметчиками (юноша) epitaph_language — язык эпитафии (HE) decor_type — тип декора (O — архитектурно-орнаментальный; F — растительный; Z — зооморфный; S — традиционная символика) tombstone_type — тип памятника (M — стела, L — стела с саркофагом, P — саркофаг/плита, O — охель, S — индивидуальной или сложной формы; N — не определен) tombstone_material_code — материал надгробия (S - камень: SS-песчаник, SC - известняк, SG - гранит, SB - габбро-диорит, SL - лабрадорит, SM - мрамор, AS - искусственный камень, M - металл, W - дерево, O - другое) 2.2.2 Манипуляция с данными 2.2.2.1 filter() 2.2.2.2 count() 2.2.2.3 mutate() 2.2.2.4 group_by() %&gt;% summarise() 2.2.2.5 group_by() %&gt;% mutate() "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
